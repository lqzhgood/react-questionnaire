"use strict";(self.webpackChunkreact_questionnaire=self.webpackChunkreact_questionnaire||[]).push([[4],{82286:function(e,t,n){n.r(t),n.d(t,{default:function(){return ce}});var i=n(29439),s=n(72791),r=n(48478),c=n(35549),o=n(2641),a=n(57689),l=n(1413),d=n(14692),u=n(80184);var p=function(e){var t=e.style,n=void 0===t?{}:t;return(0,u.jsx)("div",{style:(0,l.Z)({textAlign:"center"},n),children:(0,u.jsx)(d.Z,{})})},x=n(15401),m=n(70675),j="Stat_container__Fm1Q9",_="Stat_content-wrapper__IdJfg",f="Stat_content__3LPHZ",v="Stat_left__wNrSL",h="Stat_main__63lJK",Z="Stat_right__ujpG3",S=n(16921),C=n(46988),g=n(31773),y=n(86005),N=n(61431),P=n(69228),w=n(23414),I=n(25561),T=n(76864),k=n(22057),L="StatHeader_header-wrapper__p6wBK",b="StatHeader_header__HQBV1",H="StatHeader_left__3fGeI",q="StatHeader_main__ceNek",z="StatHeader_right__LmibG",U=n(52465),K=S.Z.Title,O=function(){var e=(0,a.s0)(),t=(0,a.UO)().id,n=(0,x.Z)(),i=n.title,r=n.isPublished,c=(0,s.useRef)(null);function l(){var e,t=c.current;if(!t)return null;t.select();null===(e=t.input)||void 0===e||e.value;navigator.clipboard.writeText("https://github.com/lqzhgood/react-questionnaire"),C.ZP.success("\u590d\u5236\u6210\u529f"),C.ZP.success("C \u7aef\u5728 customer \u9879\u76ee\uff0c\u5e76\u672a\u4e00\u8d77\u6253\u5305\uff0c\u65e0\u6cd5\u8bbf\u95ee")}var d=(0,s.useMemo)((function(){if(!r)return null;var e=window.location.origin+U._+"/question/".concat(t);return(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(y.Z,{style:{width:"300px"},value:e,ref:c}),(0,u.jsx)(N.Z,{title:"\u590d\u5236\u94fe\u63a5",children:(0,u.jsx)(o.ZP,{icon:(0,u.jsx)(w.Z,{}),onClick:l})}),(0,u.jsx)(P.Z,{content:(0,u.jsx)(k.ZP,{value:e,size:150}),children:(0,u.jsx)(o.ZP,{icon:(0,u.jsx)(I.Z,{})})})]})}),[t,r]);return(0,u.jsx)("div",{className:L,children:(0,u.jsxs)("div",{className:b,children:[(0,u.jsx)("div",{className:H,children:(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(o.ZP,{type:"link",icon:(0,u.jsx)(T.Z,{}),onClick:function(){return e(-1)},children:"\u8fd4\u56de"}),(0,u.jsx)(K,{children:i})]})}),(0,u.jsx)("div",{className:q,children:d}),(0,u.jsx)("div",{className:z,children:(0,u.jsx)(o.ZP,{type:"primary",onClick:function(){return e("/question/edit/".concat(t))},children:"\u7f16\u8f91\u95ee\u5377"})})]})})},Q=n(4942),B="ComponentList_container__zUunq",F="ComponentList_component-wrapper__a+x6c",G="ComponentList_selected__EBWpQ",E="ComponentList_component__bLQb+",J=n(42573),A=n(81694),D=n.n(A),M=n(37404),R=function(e){var t=e.selectedComponentId,n=e.setSelectedComponentId,i=e.setSelectedComponentType,s=(0,J.Z)().componentList;return(0,u.jsx)("div",{className:B,children:s.filter((function(e){return!e.isHidden})).map((function(e){var s=e.fe_id,r=e.props,c=e.type,o=M.PS[c].Component,a=D()(F,(0,Q.Z)({},G,s===t));return(0,u.jsx)("div",{className:a,onClick:function(){n(s),i(c)},children:(0,u.jsx)("div",{className:E,children:(0,u.jsx)(o,(0,l.Z)({},r))})},s)}))})},V=n(28641),W=n(78036),Y=n(33800);var X=n(31065),$="PageSata_selected__fKitc",ee=S.Z.Title,te=M.I0.find((function(e){return e.groupName===M.YT.Text})),ne=function(e){var t=e.selectedComponentId,n=e.setSelectedComponentId,r=e.setSelectedComponentType,c=(0,a.UO)().id,o=void 0===c?"":c,l=(0,J.Z)().componentList,d=(0,s.useState)(1),x=(0,i.Z)(d,2),m=x[0],j=x[1],_=(0,s.useState)(X.Fo),f=(0,i.Z)(_,2),v=f[0],h=f[1],Z=(0,s.useState)(0),S=(0,i.Z)(Z,2),C=S[0],g=S[1],y=(0,s.useState)([]),N=(0,i.Z)(y,2),P=N[0],w=N[1],I=(0,V.Z)((function(){return function(e,t){var n="/api/stat/".concat(e);return Y.Z.get(n,{params:t})}(o,{page:m,pageSize:v})}),{refreshDeps:[o,m,v],onSuccess:function(e){g(e.total),w(e.list)}}).loading,T=l.filter((function(e){var t=e.type;return!te||!te.components.some((function(e){return e.type===t}))})).map((function(e){var i=e.fe_id,s=e.type;return{title:(0,u.jsx)("div",{style:{cursor:"pointer"},className:t===i?$:"",onClick:function(){n(i),r(s)},children:e.title}),dataIndex:i}}));return(0,u.jsxs)("div",{children:[(0,u.jsxs)(ee,{level:3,children:["\u7b54\u5377\u6570\u91cf: ",C]}),I?(0,u.jsx)(p,{}):(0,u.jsx)(W.Z,{rowKey:"_id",dataSource:P,columns:T,pagination:{total:C,current:m,pageSize:v,onChange:function(e){j(e)},onShowSizeChange:function(e,t){j(e),h(t)}}})]})},ie=n(34664),se=S.Z.Title,re=function(e){var t=(0,a.UO)().id,n=void 0===t?"":t,r=e.selectedComponentId,c=e.selectedComponentType,o=(0,s.useState)([]),l=(0,i.Z)(o,2),d=l[0],x=l[1],m=(0,V.Z)((function(e,t){return function(e,t){var n="/api/stat/".concat(e,"/").concat(t);return Y.Z.get(n)}(e,t)}),{manual:!0,onSuccess:function(e){x(e.stat)}}),j=m.loading,_=m.run;(0,s.useEffect)((function(){r&&_(n,r)}),[n,r]);return(0,u.jsxs)("div",{children:[(0,u.jsx)(se,{level:3,children:"\u56fe\u8868\u7edf\u8ba1"}),(0,u.jsx)("div",{children:function(){if(!r||!c)return(0,u.jsx)(ie.Z,{description:"\u672a\u9009\u4e2d\u7ec4\u4ef6"});var e=M.PS[c].StatChart;return e?j?(0,u.jsx)(p,{}):(0,u.jsx)(e,{data:d}):(0,u.jsx)(ie.Z,{description:"\u5f53\u524d\u7ec4\u4ef6\u6ca1\u6709\u7edf\u8ba1\u56fe\u8868"})}()})]})},ce=function(){var e=(0,a.s0)(),t=(0,m.Z)().loading,n=(0,x.Z)(),l=n.isPublished,d=n.title;(0,r.Z)(d+"- \u95ee\u5377\u7edf\u8ba1",{restoreOnUnmount:!0});var S=(0,s.useState)(""),C=(0,i.Z)(S,2),g=C[0],y=C[1],N=(0,s.useState)(),P=(0,i.Z)(N,2),w=P[0],I=P[1],T=(0,u.jsx)(p,{style:{marginTop:"60px"}}),k=(0,u.jsx)("div",{style:{flex:"1"},children:(0,u.jsx)(c.ZP,{status:"warning",title:"\u95ee\u5377\u672a\u53d1\u5e03",extra:(0,u.jsx)(o.ZP,{type:"primary",onClick:function(){return e(-1)},children:"\u8fd4\u56de"})})});return(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{children:(0,u.jsx)(O,{})}),(0,u.jsx)("div",{className:_,children:t?T:(0,u.jsx)("div",{className:f,children:void 0===l||l?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:v,children:(0,u.jsx)(R,{selectedComponentId:g,setSelectedComponentId:y,setSelectedComponentType:I})}),(0,u.jsx)("div",{className:h,children:(0,u.jsx)(ne,{selectedComponentId:g,setSelectedComponentId:y,setSelectedComponentType:I})}),(0,u.jsx)("div",{className:Z,children:(0,u.jsx)(re,{selectedComponentId:g,selectedComponentType:w})})]}):k})})]})}}}]);
//# sourceMappingURL=Stat.203f2f3e.chunk.js.map